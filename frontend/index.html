<!DOCTYPE html>
<html>

<head>
	<title>Switchboard</title>
	<script type="importmap">{"imports":{
			"swbrd": "/swbrd/index.mjs",
			"swbrd/": "/swbrd/"
		}}</script>
	<script type="module">
		import { Addr, Id, make_id, Conn } from 'swbrd';
		// import { buftobinstr, btoa_url } from 'swbrd/b64url.mjs'

		// const cert = await RTCPeerConnection.generateCertificate({name:'ECDSA', namedCurve:'P-256'});
		// console.log(await make_id(cert));

		const addr = Addr.parse(`swbrd://local.evan-brass.net`);
		const c = await addr.connect();
		console.log(c);
		c.addEventListener('connectionstatechange', () => console.log(c.connectionState));

		// const a = new Conn();
		// const b = new Conn();
		// console.log(a);
		// console.log(b);
		// b.remote = await a.local;
		// a.remote = await b.local;
	</script>
</head>

</html>
